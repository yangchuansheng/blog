---
keywords:
- Vaultwarden
- Bitwarden
- Lastpass
- å¯†ç ç®¡ç†
- Docker
- Sealos
title: "ä½¿ç”¨ Sealos æ­å»ºä¸ªäººå¯†ç ç®¡ç†å™¨ Vaultwarden"
date: 2023-09-08T09:06:37+08:00
lastmod: 2023-09-08T09:06:37+08:00
description: æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Sealos æ¥å¿«é€Ÿéƒ¨ç½²å¯†ç ç®¡ç†å™¨ Vaultwardenã€‚
draft: false
author: ç±³å¼€æœ—åŸºæ¨
hideToc: false
enableToc: true
enableTocContent: false
tocFolding: false
tocLevels: ["h2", "h3", "h4"]
tags:
- Sealos
- Kubernetes
- Docker
- Vaultwarden
- Bitwarden
categories: cloud-native
img: https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting5@main/uPic/2023-09-08-15-42-kQdLol.png
meta_image: https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting5@main/uPic/2023-09-08-15-40-wGBd19.png
---

## æˆ‘ä¸ LastPass çš„æ›²æŠ˜æ‹æƒ…

è¶…è¿‡ 8 å¹´ç½‘é¾„çš„æˆ‘ï¼Œæ³¨å†Œè¿‡å¾ˆå¤šç½‘ç«™å¸å·ï¼Œæ¯ä¸ªç½‘ç«™çš„å¯†ç æˆ‘éƒ½ç”¨ä¸åŒçš„å¤æ‚å¯†ç ã€‚ä¸€å¼€å§‹æˆ‘å…¨é è„‘åŠ›è®°å¿†è¿™äº›å¯†ç ï¼Œåæ¥æ¸æ¸è§‰å¾—è®°èµ·æ¥å¾ˆå›°éš¾ï¼Œå°±è®°å½•åœ¨ç¬”è®°æœ¬ä¸Šã€‚ä½†æ˜¯éšç€æ—¶é—´æ¨ç§»ï¼Œæˆ‘å‘ç°è¿™ç§æ–¹æ³•æ—¢ä¸å®‰å…¨ä¹Ÿä¸å¯é ã€‚

æœ‰ä¸€æ¬¡å‡ºå·®åœ¨å¤–ï¼Œ**ä¸€ä¸ªäººå¾…åœ¨é…’åº—é‡Œæƒ³ç™»å½•æŸè€ƒç ”ç½‘ç«™å¤ä¹ è‹±è¯­**ï¼Œå´æƒ³ä¸èµ·æ¥å¯†ç æ˜¯å•¥ï¼Œç¬”è®°æœ¬ä¹Ÿæ²¡å¸¦åœ¨èº«ä¸Šï¼Œæ€¥å¾—åƒçƒ­é”…ä¸Šçš„èš‚èšã€‚

åæ¥ç»•äº†å¾ˆå¤šå¼¯è·¯æ‰é‡ç½®äº†å¯†ç ï¼Œä½†æ•´ä¸ªè¿‡ç¨‹è®©æˆ‘æ— æ¯”ç—›è‹¦ï¼Œåˆç‰¹ä¹ˆ**è€½è¯¯æˆ‘å­¦è‹±è¯­ï¼**

æœç„¶è®°åœ¨ç¬”è®°æœ¬ä¸Šä¹Ÿä¸èƒ½è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œå¯é åº¦å¤ªä½äº†ï¼Œè€Œä¸”è¿˜å­˜åœ¨å®‰å…¨éšæ‚£ã€‚æ˜¯æ—¶å€™ä½¿ç”¨ä¸“ä¸šçš„å¯†ç ç®¡ç†è½¯ä»¶äº†ï¼

è¯´åˆ°å¯†ç ç®¡ç†å™¨ï¼Œå¤§å®¶æ˜¯ä¸æ˜¯æƒ³èµ·äº† LastPassâ€¦ æˆ‘ä¸€å¼€å§‹ç”¨çš„ç¡®å®æ˜¯ LastPassï¼Œä½†æ˜¯ LastPass çš„ä»·æ ¼ç­–ç•¥é¢‘ç¹è°ƒæ•´ï¼Œä»ä¸€å¼€å§‹çš„å…è´¹ï¼Œåˆ°åæ¥é€æ¸æ”¶è´¹ï¼Œè®©æˆ‘å¼€å§‹å¯¹å…¶æé«˜è­¦æƒ•ã€‚è€Œä¸”ï¼Œå°½ç®¡å®ƒçš„å®‰å…¨è®°å½•ç›¸å¯¹æ¥è¯´æ¯”è¾ƒè‰¯å¥½ï¼Œä½†ç»å†è¿‡æ•°æ¬¡çš„æ¼æ´æ›å‡ºï¼Œè®©æˆ‘å¯¹äºå…¶ä¸­çš„æ•°æ®å®‰å…¨äº§ç”Ÿäº†ç–‘è™‘ã€‚æœ€è®©æˆ‘å¤±æœ›çš„æ˜¯ï¼Œéšç€å…¶è¶Šæ¥è¶Šå¤šçš„å•†ä¸šåŒ–æ“ä½œï¼Œä¸€äº›åŸæœ¬å…è´¹çš„åŠŸèƒ½ä¹Ÿè¢«é™åˆ¶æˆ–è½¬ç§»åˆ°äº†ä»˜è´¹ç‰ˆæœ¬ã€‚

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-19-49-XHN6Lp.png)

## Bitwardenï¼šå¯†ç ç®¡ç†é©å‘½è€…

ä¸€æ¬¡å¶ç„¶çš„æœºä¼šï¼ŒBitwarden é—¯å…¥äº†æˆ‘çš„è§†çº¿ã€‚ä½œä¸ºæ–°ä¸€ä»£å¼€æºçš„è·¨å¹³å°å¯†ç ç®¡ç†å™¨ï¼ŒBitwarden çš„é€æ˜åº¦è®©æˆ‘å¯¹æ•°æ®å®‰å…¨æœ‰äº†æ›´å¤§çš„ä¿¡å¿ƒã€‚å®ƒä½¿ç”¨ AES-256 ä½åŠ å¯†å’Œ PBKDF2 SHA-256 æ¥ä¿è¯æ‰€æœ‰ä¿¡æ¯çš„å®‰å…¨ï¼Œå¹¶ä¸”æ‹¥æœ‰ä¸°å¯Œçš„å®¢æˆ·ç«¯æ”¯æŒï¼ŒåŒ…æ‹¬ Windowsã€Macã€Linuxã€iOSã€Android ç­‰å¤šä¸ªå¹³å°ã€‚

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-20-06-lhdqCm.jpg)

ä¸ LastPass ç›¸æ¯”ï¼ŒBitwarden å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

- ä»£ç **å¼€æº**ï¼Œç»è¿‡å…¨çƒå¼€å‘è€…éªŒè¯æ›´å®‰å…¨å¯é ã€‚
- æä¾›å…è´¹ç‰ˆæœ¬**æ— é™ä½¿ç”¨åŸºç¡€åŠŸèƒ½**ã€‚
- ä½¿ç”¨**ç«¯åˆ°ç«¯åŠ å¯†**ï¼Œåªæœ‰ç”¨æˆ·è‡ªå·±æ‰æ‹¥æœ‰è§£å¯†å¯†é’¥ã€‚
- æ”¯æŒ**æ— é™å­˜å‚¨**å¯†ç æ¡ç›®ã€‚
- å…è®¸ç”¨æˆ·**å¯¼å…¥å’Œå¯¼å‡º**å¯†ç æ•°æ®ã€‚
- æä¾›ä¼˜ç§€çš„**è‡ªåŠ¨å¡«å……**æœåŠ¡ï¼Œå¹¶ä¸”å¯ä»¥åˆ©ç”¨ç³»ç»Ÿçš„ç”Ÿç‰©è¯†åˆ«ï¼ˆæŒ‡çº¹ã€äººè„¸ç­‰ï¼‰è¿›è¡Œè®¤è¯ã€‚
- æ”¯æŒ**æ–‡ä»¶åŠ å¯†åˆ†äº«**ï¼Œæ–¹ä¾¿åœ°é€šè¿‡ bitwarden send åˆ†äº«éšç§æ–‡ä»¶ã€ç…§ç‰‡ç­‰ã€‚
- é™¤äº†å¯†ç ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å­˜å‚¨æ–‡ä»¶/æ–‡æœ¬/é“¶è¡Œå¡/ä¸ªäººä¿¡æ¯ã€‚

æœ€å¸å¼•æˆ‘çš„æ˜¯ï¼ŒBitwarden è¿˜å¯ä»¥ç§æœ‰åŒ–éƒ¨ç½²ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿æ•°æ®å®Œå…¨æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­ï¼Œä¸å¿…æ‹…å¿ƒå®˜æ–¹è·‘è·¯ã€‚ä¸è¿‡ [BitÂ­warÂ­den å®˜æ–¹æœåŠ¡](https://github.com/bitwarden/server)å¯¹æœåŠ¡å™¨éœ€è¦çš„èµ„æºæœ‰ç‚¹å¤šï¼Œå†…å­˜å¿…é¡»**å¤§äº 2G**ï¼Œå°å†…å­˜æœºå™¨æ˜¯æ ¹æœ¬è·‘ä¸èµ·æ¥çš„ï¼Œä¸€èˆ¬æ¨èä½¿ç”¨ç¬¬ä¸‰æ–¹å¼€å‘çš„ Vaultwardenã€‚

## Vaultwardenï¼šçŸ­å°ç²¾æ‚

Vaultwarden æ˜¯ Bitwarden çš„è½»é‡çº§ç‰ˆæœ¬ï¼Œ**åŸå bitwarden_rs**ï¼Œåæ¥ä¸ºäº†ä¸â€œå¤§å“¥â€ Bitwarden åŒºåˆ†å¼€æ¥ï¼Œé‚æ”¹åä¸º Vaultwardenã€‚

Logo å®Œç¾ç»“åˆäº† Rust å’Œ Vaultwardenï¼š 

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-20-39-ySJr3t.png)

Vaultwarden ä½¿ç”¨ Rust ç¼–å†™ï¼Œé»˜è®¤ä½¿ç”¨ SQLite æ•°æ®åº“ï¼ˆåŒæ—¶è¿˜æ”¯æŒ MySQL å’Œ PostgreSQLï¼‰ï¼Œå®ç°äº† BitÂ­warÂ­den API çš„æ‰€æœ‰åŠŸèƒ½ï¼Œ**åªéœ€è¦ 10M å†…å­˜**ä¾¿å¯è¿è¡Œï¼Œå‡ ä¹å¯ä»¥è·‘åœ¨ä»»ä½•ç¡¬ä»¶ä¹‹ä¸Šã€‚

> GitHub åœ°å€ï¼š**https://github.com/dani-garcia/vaultwarden**

ä¸ç”¨æƒ³äº†ï¼Œæ— è„‘ä½¿ç”¨ Vaultwarden å§ã€‚

è™½ç„¶ Vaultwarden æä¾›äº† Docker é•œåƒï¼Œå¯ä»¥æ— è„‘æ¢­å“ˆï¼Œä½†æ˜¯ä½ è¿˜å¾—æä¾›ä¸€ä¸ªå…¬ç½‘å‡ºå£ï¼Œè¿™å°±éœ€è¦ç”¨åˆ° Nginx ä¹‹ç±»çš„åå‘ä»£ç†ã€‚åŒæ—¶ä½ è¿˜å¾—å‡†å¤‡ä¸€ä¸ªåŸŸåï¼Œä»¥åŠç›¸åº”çš„è¯ä¹¦ï¼Œå¹¶ä¸”è¦åšå¥½è‡ªåŠ¨ç»­ç­¾çš„å·¥ä½œã€‚è¿™å¯¹å°ç™½æ¥è¯´è¿˜æ˜¯æœ‰ç‚¹å¤æ‚äº†ã€‚

ä¸è¿‡æœ‰äº† Sealos ä¸€é”®éƒ¨ç½²æ¨¡æ¿ï¼Œè¿™ä¸ªé—®é¢˜å°±æ¯”è¾ƒç®€å•äº†ï¼ŒåŠ¨åŠ¨é¼ æ ‡å°±è¡Œäº†ï¼Œ**30 ç§’å³å¯è§£å†³æˆ˜æ–—**ã€‚

## ä¸€é”®éƒ¨ç½² Vaultwarden

é¦–å…ˆç‚¹å‡»ä»¥ä¸‹æŒ‰é’®æ‰“å¼€ Vaultwarden çš„åº”ç”¨æ¨¡æ¿ï¼š

<figure><a href="https://bja.sealos.run/?openapp=system-template%3FtemplateName%3Dvaultwarden" target="_blank">
    <img loading="lazy" class="my-0 rounded-md nozoom" src="https://cdn.jsdelivr.us/gh/labring-actions/templates@main/Deploy-on-Sealos.svg" alt="å›¾ç‰‡æè¿°: Deploy-on-Sealos.svg">
</a></figure>

å•¥éƒ½ä¸ç”¨å¡«ï¼Œç›´æ¥ç‚¹å‡»ã€Œéƒ¨ç½²åº”ç”¨ã€ï¼š

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-20-51-JxiA1C.jpg)

éƒ¨ç½²å®Œæˆåï¼Œç‚¹å‡»ç¡®è®¤è·³è½¬åˆ°åº”ç”¨è¯¦æƒ…é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°åº”ç”¨å·²ç»å¯åŠ¨æˆåŠŸäº†ã€‚ç‚¹å‡»å¤–ç½‘åœ°å€å³å¯ç›´æ¥æ‰“å¼€ Vaultwarden çš„ Web ç•Œé¢ï¼š

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-22-41-Ia2FQ4.png)

åˆ›å»ºä½ çš„å¯†ç ç®¡ç†è´¦æˆ·ï¼š

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-20-57-h2vXcA.png)

åˆ›å»ºå®Œæˆåå¼€å§‹ç™»å½•ï¼š

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-21-10-3XBNbR.png)

å®Œç»“æ’’èŠ±ï¼ğŸ‰ğŸ‰ğŸ‰

å®¢æˆ·ç«¯ä½¿ç”¨è‡ªå®šä¹‰æœåŠ¡å™¨éå¸¸ç®€å•ï¼Œä»¥ macOS å®¢æˆ·ç«¯ä¸ºä¾‹ï¼Œç™»å½•æ—¶é€‰æ‹©ã€Œè‡ªæ‰˜ç®¡ã€ï¼š

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-21-17-EL0dGQ.png)

ç„¶ååœ¨å¼¹å‡ºçš„ç•Œé¢ä¸­è¾“å…¥ Vaultwarden çš„åœ°å€ï¼Œå¹¶ç‚¹å‡»ä¿å­˜ï¼š

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-22-42-Gh3TAt.png)

ç„¶åè¾“å…¥é‚®ç®±å’Œå¯†ç è¿›è¡Œç™»å½•ã€‚

## ä¿®æ”¹é…ç½®

Vaultwarden å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡æ¥è‡ªå®šä¹‰å„ç§é…ç½®ï¼Œå®ƒçš„æ‰€æœ‰ç¯å¢ƒå˜é‡éƒ½åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼š

+ **https://github.com/dani-garcia/vaultwarden/blob/main/.env.template**

æ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±ç ”ç©¶ã€‚

Sealos æ·»åŠ ç¯å¢ƒå˜é‡éå¸¸ç®€å•ï¼Œåœ¨åº”ç”¨è¯¦æƒ…é¡µé¢ç›´æ¥ç‚¹å‡»ã€Œå˜æ›´ã€ï¼š

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-22-15-bGzM8D.png)

ç„¶åå±•å¼€ã€Œé«˜çº§é…ç½®ã€ï¼Œç‚¹å‡»ã€Œç¼–è¾‘ç¯å¢ƒå˜é‡ã€ï¼š

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-22-16-RqfqG4.png)

ç„¶åå°±å¯ä»¥åœ¨å…¶ä¸­æ·»åŠ ç¯å¢ƒå˜é‡äº†ã€‚

ä¾‹å¦‚ï¼Œæˆ‘æƒ³è®¾ç½® Vaultwarden ç®¡ç†åå°å¯†ç ï¼Œå°±å¯ä»¥åŠ å…¥ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```bash
ADMIN_TOKEN='xxxxx'
```

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-22-19-nVVJM4.png)

æ·»åŠ å®Œæˆä¹‹åï¼Œç‚¹å‡»ã€Œç¡®è®¤ã€ï¼Œå†ç‚¹å‡»å³ä¸Šè§’çš„ã€Œå˜æ›´ã€å°±å¯ä»¥äº†ã€‚

åœ¨ä½ çš„åŸŸååé¢åŠ ä¸Š `/admin`ï¼Œç™»å½• Vaultwarden ç®¡ç†åå°ï¼Œç™»é™†å¯†ç ä¸ºåˆšåˆšè®¾ç½®çš„ `ADMIN_TOKEN`ï¼š

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-22-45-gtkvnK.png)

åœ¨è¿™é‡Œå¯ä»¥æ ¹æ®æƒ…å†µå¯¹ Vaultwarden è¿›è¡Œä¸€äº›å¯é€‰è®¾ç½®ï¼Œæ‰€æœ‰çš„è®¾ç½®é¡¹éƒ½å¯ä»¥é€šè¿‡é¼ æ ‡æ‚¬åœæŸ¥çœ‹ç›¸åº”çš„è¯´æ˜ï¼Œä¸äº†è§£çš„é€‰é¡¹å»ºè®®ä¿æŒé»˜è®¤ã€‚

è¿™é‡Œä»‹ç»å‡ ä¸ªæˆ‘è®¤ä¸ºå€¼å¾—å…³æ³¨çš„è®¾ç½®é¡¹ï¼š

- **General Settings**
  - **Domain URL**ï¼šè®¾ç½®ä½ çš„ç½‘ç«™åŸŸåï¼Œè®°å¾—å¸¦ä¸Š httpsï¼Œå¦‚ `https://your.domain`ã€‚
  - **Allow new signups**ï¼šæ˜¯å¦å…è®¸ç”¨æˆ·æ³¨å†Œï¼Œå¦‚æœå¯†ç åº“ä»…ä»…ç”¨äºè‡ªç”¨ï¼Œå»ºè®®åœ¨è‡ªå·±æ³¨å†Œåå…³é—­æ­¤é€‰é¡¹ã€‚
  - **Admin page token**ï¼šåœ¨è¿™é‡Œæ›´æ”¹ Vaultwarden ç®¡ç†åå°çš„å¯†ç ã€‚
  - **Invitation organization name**ï¼šè®¾ç½®ä½ çš„ç½‘ç«™åå­—ï¼Œå°†å‡ºç°åœ¨è‡ªåŠ¨å‘é€çš„ç”µå­é‚®ä»¶ä¸­ã€‚
- **SMTP Email Settings**
  - è®¾ç½® SMTP æœåŠ¡ï¼Œç”¨æ¥å‘é€ç³»ç»Ÿé‚®ä»¶ï¼ˆå»ºè®®å¼€å¯ï¼‰ã€‚
  - æ ¹æ®ä½ çš„ SMTP æœåŠ¡æä¾›æ–¹å¡«å†™ç›¸å…³ä¿¡æ¯å³å¯ã€‚
  - è®¾ç½®ä¿å­˜åï¼Œè¿è¡Œä¸€æ¬¡ Test SMTP ç¡®ä¿é‚®ä»¶å¯ä»¥æ­£å¸¸å‘é€ã€‚
- **Read-Only Config**ï¼šè¿™é‡Œå¯ä»¥æŸ¥çœ‹æ‰€æœ‰åªè¯»é€‰é¡¹ã€‚
- **Backup Database**ï¼šè¿™é‡Œæä¾›äº†ä¸€ä¸ªç®€æ˜“çš„æ•°æ®åº“å¤‡ä»½åŠŸèƒ½ã€‚

## è´¹ç”¨è¯„ä¼°

ç°åœ¨æˆ‘ä»¬æ¥è¯„ä¼°ä¸€ä¸‹åœ¨ Sealos ä¸Šè¿è¡Œ Vaultwarden å¤§æ¦‚éœ€è¦å¤šå°‘é’±ã€‚ç‚¹å‡»ã€Œå˜æ›´ã€ï¼š

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-22-15-bGzM8D.png)

æ¨¡æ¿é»˜è®¤ä½¿ç”¨çš„ CPU æ˜¯ 0.2Cï¼Œå†…å­˜æ˜¯ 256Mï¼Œä¸è¿‡ Vaultwarden åªéœ€è¦ 10M å°±èƒ½è·‘èµ·æ¥ï¼Œä¸ªäººä½¿ç”¨å®Œå…¨ä¸éœ€è¦è¿™ä¹ˆå¤šå†…å­˜ï¼Œå’±ä»¬ç›´æ¥æŠŠ CPU å’Œå†…å­˜è°ƒåˆ°æœ€ä½ï¼š

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-06-21-43-sjJXTe.png)

æœ€åç‚¹å‡»ã€Œå˜æ›´ã€ã€‚

è¿™ä¸‹èˆ’æœäº†ï¼Œæ¯å¤©åªéœ€è¦èŠ±è´¹**ä¸¤æ¯›å…­åˆ†é’±**ã€‚å†åŠ ä¸Š Sealos è¶…ç»™åŠ›çš„å……å€¼ä¼˜æƒ ï¼ŒæŠ˜ç®—ä¸‹æ¥æ¯å¤©åªéœ€è¦èŠ±è´¹ä¸€æ¯›å¤šä¸€ç‚¹ã€‚

![](https://cdn.jsdelivr.us/gh/yangchuansheng/imghosting-test@main/uPic/2023-09-07-09-54-fzC7ln.png)

è€Œä¸”**ä¸éœ€è¦æ“å¿ƒä»€ä¹ˆåå‘ä»£ç†ï¼Œä»€ä¹ˆåŸŸåï¼Œä»€ä¹ˆè¯ä¹¦ï¼Œå°±æ˜¯ä¸€æŠŠæ¢­**ï¼Œä¼˜é›…ã€‚

## å‚è€ƒèµ„æ–™

+ [è‡ªæ­å»ºå…¨å¹³å°ç§æœ‰å¯†ç åº“ bitwarden & Vaultwarden](https://www.ottoli.cn/howto/bitwarden-vaultwarden)